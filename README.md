# Пользовательская документация для управления Raspberry Pi 4

## Введение

## 1.1 Область применения
Требования настоящего документа распространяются на:

•	Установку операционной системы;

•	управлению серводвигателем;

•	управления двигателем;

•	управление контактами ввода/вывода на плате raspberry pi 4.

## 1.2 Краткое описание возможностей
С развитием отечественной ОС ALT Linux встает вопрос о расширении сферы применения как самой операционной системы, так и о разработке, доработке и создании новых утилит для репозитория "Сизиф". Для этих целей планируется разработать образ ОС ALT Linux для одноплатного компьютера Raspberry PI 4. Скомпилировать и написать вспомогательные утилиты и библиотеки на языках Bash, C, C++, Python. Которые в дальнейшем могут быть использованы при разработке симуляторов, в области машиностроения и интернета вещей.
 
## 1.3 Уровень подготовки пользователя
Пользователь программно-аппаратного комплекса должен обладать базовыми навыками работы с электронными устройствами и их подключениями, в том числе: 

•	Подключение и отключение комплекта от сети питания; 

•	Работа и подключение с одноплатными компьютерами raspberry pi ;

•	Подключение micro sd и установка ос;

•	Знание языков: bash;

•	Знание правил безопасности при обращении с электронными устройствами;

•	Базовые знания по работе с персональным компьютером;

## 1.4 Перечень пользовательской документации, с которой необходимо ознакомиться

Для работы с данным программным обеспечением рекомендуется использовать данное руководство.


## Главное Меню

Чтобы упростить и сделать программу более удобной для пользователя, мы создали основной скрипт, который будет показывать меню и выбирать различные скрипты простым нажатием цифр.
Вы можете получить доступ к этому меню, открыв оболочку Python3 в корневом каталоге этого репозитория:

```bash
python3
```

```bash
import main.py
```
![image.png](./images/image.png)


## Контроллер GPIO

Этот скрипт написан на Python3 и представляет собой бэкэнд REST API для управления пинами GPIO на Raspberry Pi путем выполнения HTTP-запросов к конечным точкам /pins и /pins/<id>. В этом сценарии используется макетная плата, оснащенная светодиодами, подключенными к контактам GPIO Raspberyy Pi, чтобы продемонстрировать правильное функционирование вызовов API.

### Контакты GPIO

Этот код использует следующую конфигурацию:
```python
pins = [23,24,25,22,12,16,20,21,13]
```

Примечание. Эти номера контактов относятся к номерам контактов GPIO, а не к общей нумерации.

![image-1.png](./images/image-1.png)

Когда вам надоест вручную отправлять HTTP-запросы через Swagger(curl), откройте оболочку Python3 в корневом 

```bash
python3
```

```bash
import main.py
```
Затем выберите нужную вам опцию.
например:
 ![image-2.png](./images/image-2.png)

Функции с параметром periodfloat имеют значение по умолчанию для осцилляции. Поэкспериментируйте с разными значениями.

## Управление серводвигателем

Управление серводвигателями Raspberry Pi очень простое, и благодаря небольшому размеру и весу они используются во многих областях.
В отличие от шаговых двигателей, серводвигателями можно управлять с помощью одного GPIO.
Настроить
В большинстве случаев цвета сервопривода следующие и подключаются к Pi:

•	Черный - подходит к GND (контакт 6) от Pi

•	Красный - подходит к 3V3 (контакт 1) от Pi

•	Желтый/оранжевый - к свободному контакту GPIO (например, GPIO17, контакт 11)


![image-3.png](./images/image-3.png)

### Программное обеспечение для управления серводвигателями Raspberry Pi
После настройки оборудования откройте оболочку Python3 в корневом каталоге этого репозитория:

```bash
python3
```

```bash
import main.py
```

запустите наш скрипт main.py, вы увидите меню. В этом меню вы можете выбрать номер 2 для управления серводвигателем.

![image-4.png](./images/image-4.png)

Теперь вы можете ввести любой угол в диапазоне 0–180 и время задержки для следующего угла.
например: 
```bash
30 2 60 3 90 1 75 5 180
```

## Управление двигателем постоянного тока с помощью L298N и Raspberry Pi

На следующем изображении представлена принципиальная схема интерфейса модуля драйвера двигателя Raspberry Pi L298N. Схема выполнена с помощью приложения Fritzing.

![image-5.png](./images/image-5.png)

### Необходимые компоненты

•	Raspberry Pi

•	Модуль драйвера двигателя L298N

•	Двигатель постоянного тока 12 В

•	Источник питания 12 В для двигателя и драйвера двигателя

•	Источник питания для Raspberry Pi

•	Соединительные провода

### Работа проекта

Если вы внимательно посмотрите на код, то сможете легко понять, как работает проект. После создания сценария Python с приведенным выше кодом запустите сценарий.
Вы получите сообщение о скорости и направлении вращения двигателя по умолчанию. Далее следует список команд, которые необходимо использовать для управления двигателем. Эти команды приведены ниже.

•	r - run (запустить или запустить двигатель)

•	s - stop (остановить двигатель)

•	f - вперед (чтобы запустить двигатель в прямом направлении) - направление по умолчанию

•	b - назад (чтобы изменить направление вращения)

•	l - низкая (для снижения скорости до 25%) - скорость по умолчанию

•	m - средний (для работы двигателя на средней скорости 50%)

•	h - высокая (для увеличения скорости до 75%)

•	e - выход (для остановки двигателя и выхода из Python)




